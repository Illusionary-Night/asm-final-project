.NOLIST

IFNDEF __Seller
__Seller EQU 1

MAXGOODS           EQU 20
GOODSFRAMECOLOR    EQU 04h
GOODSFRAMEELEMENT  EQU '*'
GOODSFRAMEWIDTH    EQU 18
GOODSFRAMEHIGHT    EQU MAXGOODS
GOODSPOSITIONX     EQU 190
GOODSPOSITIONY     EQU 5

OURGOODSPOSITIONX     EQU 120
OURSHAPEPOSITIONX     EQU OURGOODSPOSITIONX-SHAPESIZE-1
OURATTRIBUTEPOSITIONX EQU OURGOODSPOSITIONX+GOODSFRAMEWIDTH+2-1


SHAPESIZE          EQU 4
ATTRIBUTEWIDTH     EQU 20
ATTRIBUTEHIGHT     EQU 7
SHAPEPOSITIONX     EQU GOODSPOSITIONX-SHAPESIZE-1
ATTRIBUTEPOSITIONX EQU GOODSPOSITIONX+GOODSFRAMEWIDTH+2-1
ATTRIBUTENUM       EQU 7


SetSellerCursor macro NEWX, NEWY
	push eax

	mov ax, NEWX
	inc ax
	mov SellerCursor.X, ax

	mov ax, NEWY
	inc ax
	mov SellerCursor.Y, ax

	pop eax
endm

AddSellerCursorY macro num
	push eax
	
	mov ax, SellerCursor.Y
	add ax, num
	mov SellerCursor.Y, ax

	pop eax
endm


GOODS STRUCT
	MainFrame         RECTANGLE <GOODSFRAMEELEMENT,GOODSFRAMECOLOR,GOODSFRAMEWIDTH+2,GOODSFRAMEHIGHT+2,<GOODSPOSITIONX,GOODSPOSITIONY>>	
	UUID              DWORD MAXGOODS DUP(0)
	AttributeFrame    RECTANGLE <GOODSFRAMEELEMENT,GOODSFRAMECOLOR,ATTRIBUTEWIDTH+2,ATTRIBUTEHIGHT+2,<ATTRIBUTEPOSITIONX,GOODSPOSITIONY>>
	ShapeFrame        RECTANGLE <GOODSFRAMEELEMENT,GOODSFRAMECOLOR,SHAPESIZE+2,SHAPESIZE+2,<SHAPEPOSITIONX,GOODSPOSITIONY>>
	Position          COORD <GOODSPOSITIONX,GOODSPOSITIONY>
	ToolIndex         BYTE 0
GOODS ENDS


ShowGoods PROTO,
	Shelf: PTR GOODS

EraseGoods PROTO,
	Shelf: PTR GOODS

InsertTool PROTO,
	Shelf: PTR GOODS,
	UUID: DWORD

DeletTool PROTO,
	Shelf: PTR GOODS,
	Index: BYTE

ShowToolInfo PROTO,
	Shelf: PTR GOODS,
	Index: BYTE

EraseToolInfo PROTO,
	Shelf: PTR GOODS

BuyTool PROTO,            ;this function will return UUID in eax
	Shelf: PTR GOODS,
	Index: BYTE	

ENDIF